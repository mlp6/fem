
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>fem.post package &#8212; FEM v6.9.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Hypermesh Tutorial" href="hypermesh.html" />
    <link rel="prev" title="Simulating Acoustic Radiation Force Excitation" href="simulate_ARFI.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="fem-post-package">
<h1>fem.post package<a class="headerlink" href="#fem-post-package" title="Permalink to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-fem.post.colormaps">
<span id="fem-post-colormaps-module"></span><h2>fem.post.colormaps module<a class="headerlink" href="#module-fem.post.colormaps" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-fem.post.create_disp_dat">
<span id="fem-post-create-disp-dat-module"></span><h2>fem.post.create_disp_dat module<a class="headerlink" href="#module-fem.post.create_disp_dat" title="Permalink to this heading">¶</a></h2>
<p>create_disp_dat.py - generate disp.dat binary from nodout ASCII</p>
<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_disp_dat.correct_Enot">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_disp_dat.</span></span><span class="sig-name descname"><span class="pre">correct_Enot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_disp_dat.correct_Enot" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct dropped ‘E’ in -??? scientific notation.</p>
<p>ls-dyna seems to drop the ‘E’ when the negative exponent is three digits,
so check for those in the line data and change those to ‘E-100’ so that
we can convert to floats</p>
<p>This is a helper function only called by parse_line_regex(), which is currently not being used
by default.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>line</strong> (<em>str</em>) – string of split raw string data</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>line with corrected -??? -&gt; -E100</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_disp_dat.correct_neg">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_disp_dat.</span></span><span class="sig-name descname"><span class="pre">correct_neg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_disp_dat.correct_neg" title="Permalink to this definition">¶</a></dt>
<dd><p>Add space before negative coefficient numbers.</p>
<p>This is a helper function only called by parse_line_regex(), which is currently not being used
by default.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>line</strong> (<em>str</em>) – raw read line</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>line with space(s) added before negative coefficients</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>line (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_disp_dat.count_timesteps">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_disp_dat.</span></span><span class="sig-name descname"><span class="pre">count_timesteps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'nodout'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#fem.post.create_disp_dat.count_timesteps" title="Permalink to this definition">¶</a></dt>
<dd><p>Count timesteps in to outfile.</p>
<p>Searches for ‘time’ in lines, and then removes 1 extra entry that occurs
for t = 0.  <cite>grep</cite> will be used on linux systems (way faster).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>outfile</strong> (<em>str</em>) – usually ‘nodout’</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>number of time steps counted - 1</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ts_count (int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_disp_dat.create_dat">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_disp_dat.</span></span><span class="sig-name descname"><span class="pre">create_dat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nodout'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dispout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'disp.dat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacynodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_disp_dat.create_dat" title="Permalink to this definition">¶</a></dt>
<dd><p>Create binary data file from nodout ASCII file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodout</strong> (<em>str</em>) – nodout input filename</p></li>
<li><p><strong>dispout</strong> (<em>str</em>) – binary output filename</p></li>
<li><p><strong>legacynodes</strong> (<em>Boolean</em>) – (Default value = False)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_disp_dat.generate_header">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_disp_dat.</span></span><span class="sig-name descname"><span class="pre">generate_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_disp_dat.generate_header" title="Permalink to this definition">¶</a></dt>
<dd><p>generate headers from data matrix of first time step</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>nparray</em>) – data</p></li>
<li><p><strong>outfile</strong> (<em>str</em>) – output filename to count times from</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>header (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_disp_dat.main">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_disp_dat.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_disp_dat.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_disp_dat.open_dispout">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_disp_dat.</span></span><span class="sig-name descname"><span class="pre">open_dispout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dispout</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_disp_dat.open_dispout" title="Permalink to this definition">¶</a></dt>
<dd><p>Open dispout file for writing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dispout</strong> (<em>str</em>) – dispout filename (disp.dat.xz)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>file object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dispout (obj)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_disp_dat.parse_cli">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_disp_dat.</span></span><span class="sig-name descname"><span class="pre">parse_cli</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_disp_dat.parse_cli" title="Permalink to this definition">¶</a></dt>
<dd><p>parse command-line interface arguments</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_disp_dat.parse_line">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_disp_dat.</span></span><span class="sig-name descname"><span class="pre">parse_line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_disp_dat.parse_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse raw data line into vector of floats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>line</strong> (<em>str</em>) – raw data line from nodout</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[nodeID, xdisp, ydisp, zdisp]</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>raw_data (list of floats)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_disp_dat.parse_line_regex">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_disp_dat.</span></span><span class="sig-name descname"><span class="pre">parse_line_regex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_disp_dat.parse_line_regex" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse raw data line into list of floats using regex.</p>
<p>This regex approach works, but is very slow!!  It also requires two helper functions to clean up
malformed data written by ls-dyna (done on purpose, probably to save space).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>line</strong> (<em>str</em>) – raw data line from nodout</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[nodeID, xdisp, ydisp, zdisp]</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>raw_data (list of floats)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_disp_dat.process_timestep_data">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_disp_dat.</span></span><span class="sig-name descname"><span class="pre">process_timestep_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writenode</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_disp_dat.process_timestep_data" title="Permalink to this definition">¶</a></dt>
<dd><p>write data for the entire timestep to outfile</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>list</em>) – list of all data, with each entry containing [nodeID, xdisp, ydisp, zdisp]</p></li>
<li><p><strong>outfile</strong> (<em>obj</em>) – output file object</p></li>
<li><p><strong>writenode</strong> (<em>Boolean</em>) – Boolean if the node IDs should be written to save
~25% of the disp.dat file size</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_disp_dat.write_headers">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_disp_dat.</span></span><span class="sig-name descname"><span class="pre">write_headers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_disp_dat.write_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Write binary header.</p>
<p>Write binary header information to reformat things on read downstream.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outfile</strong> (<em>str</em>) – output file object</p></li>
<li><p><strong>header</strong> (<em>dict</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-fem.post.create_res_sim">
<span id="fem-post-create-res-sim-module"></span><h2>fem.post.create_res_sim module<a class="headerlink" href="#module-fem.post.create_res_sim" title="Permalink to this heading">¶</a></h2>
<p>create_res_sim.py - extract data for display in different formats from disp.dat binary</p>
<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_res_sim.create_zdisp">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_res_sim.</span></span><span class="sig-name descname"><span class="pre">create_zdisp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodeidlist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disp_slice_z_only</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zdisp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_res_sim.create_zdisp" title="Permalink to this definition">¶</a></dt>
<dd><p>create zdisp array from squeezed disp_slice at appropriate index</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodeidlist</strong> – first column of disp_slice with node IDs in row order</p></li>
<li><p><strong>disp_slice_z_only</strong> – squeezed disp_slice of just zdisp</p></li>
<li><p><strong>zdisp</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>rows corresponding to node ID</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>zdisp (ndarray)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_res_sim.extract3Darfidata">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_res_sim.</span></span><span class="sig-name descname"><span class="pre">extract3Darfidata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dynadeck</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dynadeck.dyn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disp_comp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disp_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">10000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ressim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'res_sim.h5'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodedyn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nodes.dyn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dispout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'disp.dat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">specific_times</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_res_sim.extract3Darfidata" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract 3D volume of specified displacement component.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dynadeck</strong> (<em>str</em>) – LS-DYNA3D input deck (used to get dt)</p></li>
<li><p><strong>disp_comp</strong> (<em>int</em>) – displacement component to extract (0, 1, 2)</p></li>
<li><p><strong>disp_scale</strong> (<em>float</em>) – displacement scaling factor (cm -&gt; um)</p></li>
<li><p><strong>ressim</strong> (<em>str</em>) – output file name [.mat, .h5, .pvd]</p></li>
<li><p><strong>nodedyn</strong> (<em>str</em>) – node input file</p></li>
<li><p><strong>dispout</strong> (<em>str</em>) – binary displacement data</p></li>
<li><p><strong>specific_times</strong> (<em>list</em>) – optional list of specific time indices</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_res_sim.extract_arfi_data">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_res_sim.</span></span><span class="sig-name descname"><span class="pre">extract_arfi_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dispout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_plane</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disp_comp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disp_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">10000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacynodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">specific_times</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_res_sim.extract_arfi_data" title="Permalink to this definition">¶</a></dt>
<dd><p>extract ARFI data from disp.dat</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dispout</strong> (<em>str</em>) – name of disp.dat file</p></li>
<li><p><strong>header</strong> (<em>dict</em>) – num_nodes, num_dims, num_timesteps</p></li>
<li><p><strong>image_plane</strong> (<em>ndarray</em>) – matrix of image plane node IDs spatially sorted</p></li>
<li><p><strong>disp_comp</strong> (<em>int</em>) – disp component index to extract (0, 1, 2 [default, z])</p></li>
<li><p><strong>disp_scale</strong> (<em>float</em>) – cm -&gt; um</p></li>
<li><p><strong>legacynodes</strong> (<em>Boolean</em>) – node IDs repeated every timestep</p></li>
<li><p><strong>specific_times</strong> (<em>list</em>) – optional list of specific time indices to extract</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>arfidata (ndarray)</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>IndexError</strong> – unexpected arfidata dimensions</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_res_sim.extract_dt">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_res_sim.</span></span><span class="sig-name descname"><span class="pre">extract_dt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dyn_file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_res_sim.extract_dt" title="Permalink to this definition">¶</a></dt>
<dd><p>extract time step (dt) from dyna input deck (assume comma-delimited)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dyn_file</strong> (<em>str</em>) – input.dyn filename</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>timestep interval</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dt (float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_res_sim.extract_image_plane">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_res_sim.</span></span><span class="sig-name descname"><span class="pre">extract_image_plane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plane_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_res_sim.extract_image_plane" title="Permalink to this definition">¶</a></dt>
<dd><p>extract 2D imaging plane node IDs</p>
<p>Extract a 2D matrix of the imaging plane node IDs based on the
elevation position (mesh coordinates).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>snic</strong> – sorted node IDs and coordinates</p></li>
<li><p><strong>axes</strong> – spatial axes</p></li>
<li><p><strong>plane_pos</strong> (<em>float</em>) – position of the plane to extract (in the specified plane_orientation)</p></li>
<li><p><strong>direction</strong> (<em>int</em>) – orientation plane to extract from (0 = elev, 1 = lateral, 2 = axial)</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – deprecated ele_pos passed as keyword argument</p></li>
<li><p><strong>ValueError</strong> – invalid direction axis specified</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>image_plane (node IDs)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_res_sim.main">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_res_sim.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_res_sim.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_res_sim.open_dispout">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_res_sim.</span></span><span class="sig-name descname"><span class="pre">open_dispout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dispout</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_res_sim.open_dispout" title="Permalink to this definition">¶</a></dt>
<dd><p>open dispout file for reading, potentially using lzma</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dispout</strong> (<em>pathlib / str</em>) – dispout file</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>FileNotFoundError</strong> – disp.dat[.xz] file cannot be found</p></li>
<li><p><strong>ImportError</strong> – LZMA package not available</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>open file object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dispout (obj)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_res_sim.read_header">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_res_sim.</span></span><span class="sig-name descname"><span class="pre">read_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dispout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_size_bytes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_res_sim.read_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Read header (first 3 words) from dispout</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dispout</strong> – disp.dat filename</p></li>
<li><p><strong>word_size_bytes</strong> (<em>int</em>) – 4</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>keys: num_nodes, num_dims, num_timesteps</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>header (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_res_sim.run">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_res_sim.</span></span><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dynadeck</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disp_comp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disp_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">10000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ressim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'res_sim.mat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodedyn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nodes.dyn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dispout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'disp.dat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacynodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plane_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plane_orientation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">specific_times</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_res_sim.run" title="Permalink to this definition">¶</a></dt>
<dd><p>helper function to run high-level, 2D plane extraction</p>
<p>look at using extract3Darfidata to get full, 3D datasets exported (e.g., to view in Paraview)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dynadeck</strong> (<em>str</em>) – main dyna input deck</p></li>
<li><p><strong>disp_comp</strong> (<em>int</em>) – component of displacement to extract</p></li>
<li><p><strong>disp_scale</strong> (<em>float</em>) – displacement scaling</p></li>
<li><p><strong>ressim</strong> (<em>str</em>) – result filename to write</p></li>
<li><p><strong>nodedyn</strong> (<em>str</em>) – node defintion input filename</p></li>
<li><p><strong>dispout</strong> (<em>str</em>) – binary displacement input filename</p></li>
<li><p><strong>legacynodes</strong> (<em>Boolean</em>) – node IDs written with each timestep in dispout</p></li>
<li><p><strong>plane_pos</strong> (<em>float</em>) – position of the plane to extract (in the specified plane_orientation)</p></li>
<li><p><strong>plane_orientation</strong> (<em>int</em>) – orientation plane to extract from (0 = elev, 1 = lateral, 2 = axial)</p></li>
<li><p><strong>specific_times</strong> (<em>list</em>) – optional list of specific time indices to extract</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_res_sim.save_res_sim">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_res_sim.</span></span><span class="sig-name descname"><span class="pre">save_res_sim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arfidata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(-</span> <span class="pre">10,</span> <span class="pre">10,</span> <span class="pre">-</span> <span class="pre">10)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plane_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plane_orientation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_res_sim.save_res_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Save res_sim.[mat,h5,pvd] file with arfidata and relevant axes.</p>
<p>Data are saved as float32 (single) to save space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resfile</strong> (<em>str</em>) – res_sim.[mat,h5,pvd] filename</p></li>
<li><p><strong>arfidata</strong> (<em>ndarray</em>) – arfidata (3D or 4D (added elev dim, axes[0]))</p></li>
<li><p><strong>axes</strong> (<em>ndarrays tuple</em>) – ele, lat, axial (mesh units)</p></li>
<li><p><strong>t</strong> (<em>ndarray</em>) – time</p></li>
<li><p><strong>axis_scale</strong> (<em>floats tuple</em>) – scale axes sign &amp; mag</p></li>
<li><p><strong>plane_pos</strong> (<em>float</em>) – position of the plane to extract (in the specified plane_orientation)</p></li>
<li><p><strong>plane_orientation</strong> (<em>int</em>) – orientation plane to extract from (0 = elev, 1 = lateral, 2 = axial)</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – Cannot save 2D PVD timeseries data.</p></li>
<li><p><strong>KeyError</strong> – Trying to save unknown output type.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_res_sim.saveh5">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_res_sim.</span></span><span class="sig-name descname"><span class="pre">saveh5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_res_sim.saveh5" title="Permalink to this definition">¶</a></dt>
<dd><p>Save HDF5 file with gzip compression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arfidata</strong> (<em>float</em>) – 4D arfidata matrix</p></li>
<li><p><strong>axial</strong> (<em>float</em>) – depth axis vector [mm]</p></li>
<li><p><strong>lat</strong> (<em>float</em>) – lateral axis vector [mm]</p></li>
<li><p><strong>elev</strong> (<em>float</em>) – elevation axis vector [mm]</p></li>
<li><p><strong>t</strong> (<em>float</em>) – time vector (s)</p></li>
<li><p><strong>resfile</strong> (<em>str</em>) – ‘res_sim.pvd’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_res_sim.savemat">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_res_sim.</span></span><span class="sig-name descname"><span class="pre">savemat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_res_sim.savemat" title="Permalink to this definition">¶</a></dt>
<dd><p>Save Matlab v5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arfidata</strong> (<em>float</em>) – 4D arfidata matrix</p></li>
<li><p><strong>axial</strong> (<em>float</em>) – depth axis vector [mm]</p></li>
<li><p><strong>lat</strong> (<em>float</em>) – lateral axis vector [mm]</p></li>
<li><p><strong>elev</strong> (<em>float</em>) – elevation axis vector [mm]</p></li>
<li><p><strong>t</strong> (<em>float</em>) – time vector (s)</p></li>
<li><p><strong>resfile</strong> (<em>str</em>) – ‘res_sim.pvd’</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – arfidata &gt;4 GB</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fem.post.create_res_sim.savepvd">
<span class="sig-prename descclassname"><span class="pre">fem.post.create_res_sim.</span></span><span class="sig-name descname"><span class="pre">savepvd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ts_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.create_res_sim.savepvd" title="Permalink to this definition">¶</a></dt>
<dd><p>Save Paraview PVD rectilinear (VTR) time series data.</p>
<p>Paraview data formats: <a class="reference external" href="https://www.paraview.org/Wiki/ParaView/Data_formats">https://www.paraview.org/Wiki/ParaView/Data_formats</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ts_start</strong> (<em>int</em>) – override starting timestep index from 0 to this value</p></li>
<li><p><strong>arfidata</strong> (<em>float</em>) – 4D arfidata matrix</p></li>
<li><p><strong>axial</strong> (<em>float</em>) – depth axis vector [mm]</p></li>
<li><p><strong>lat</strong> (<em>float</em>) – lateral axis vector [mm]</p></li>
<li><p><strong>elev</strong> (<em>float</em>) – elevation axis vector [mm]</p></li>
<li><p><strong>t</strong> (<em>float</em>) – time vector (s)</p></li>
<li><p><strong>resfile</strong> (<em>str</em>) – ‘res_sim.pvd’</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – Not saving 3D time series data.</p></li>
<li><p><strong>FileExistsError</strong> – PVD file directory cannot be created.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-fem.post.h52vtr">
<span id="fem-post-h52vtr-module"></span><h2>fem.post.h52vtr module<a class="headerlink" href="#module-fem.post.h52vtr" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="fem.post.h52vtr.H52VTR">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fem.post.h52vtr.</span></span><span class="sig-name descname"><span class="pre">H52VTR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axisnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('elev',</span> <span class="pre">'lat',</span> <span class="pre">'axial')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'arfidata'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vtrname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rectilinear'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.h52vtr.H52VTR" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Convert HDF5 file to rectilinear VTR file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5file</strong> (<em>str</em>) – input HDF5 filename</p></li>
<li><p><strong>axisnames</strong> (<em>str</em>) – (‘elev’, ‘lat’, ‘axial’)</p></li>
<li><p><strong>dataname</strong> (<em>str</em>) – ‘arfidata’</p></li>
<li><p><strong>vtrname</strong> (<em>str</em>) – ‘rectilinear’</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="fem.post.h52vtr.H52VTR.read_h5axes">
<span class="sig-name descname"><span class="pre">read_h5axes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.h52vtr.H52VTR.read_h5axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Read axes from HDF5 file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fem.post.h52vtr.H52VTR.read_h5data">
<span class="sig-name descname"><span class="pre">read_h5data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.h52vtr.H52VTR.read_h5data" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data in from HDF5 file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fem.post.h52vtr.H52VTR.write_vtr">
<span class="sig-name descname"><span class="pre">write_vtr</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.h52vtr.H52VTR.write_vtr" title="Permalink to this definition">¶</a></dt>
<dd><p>Write rectilinear VTR file.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-fem.post.listedcmap2xml">
<span id="fem-post-listedcmap2xml-module"></span><h2>fem.post.listedcmap2xml module<a class="headerlink" href="#module-fem.post.listedcmap2xml" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="fem.post.listedcmap2xml.listedcmap2xml">
<span class="sig-prename descclassname"><span class="pre">fem.post.listedcmap2xml.</span></span><span class="sig-name descname"><span class="pre">listedcmap2xml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmap</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.listedcmap2xml.listedcmap2xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert ListedColormap to XML format for import into Paraview</p>
<p>Based on: <a class="reference external" href="https://www.paraview.org/Wiki/Colormaps">https://www.paraview.org/Wiki/Colormaps</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ListedColormap</strong> (<em>ListedColormap</em>) – Matplotlib-formated ListedColormap</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-fem.post.ressim">
<span id="fem-post-ressim-module"></span><h2>fem.post.ressim module<a class="headerlink" href="#module-fem.post.ressim" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="fem.post.ressim.ResSim">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fem.post.ressim.</span></span><span class="sig-name descname"><span class="pre">ResSim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'res_sim.mat'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.ressim.ResSim" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>plot and animate res_sim.mat simulation data</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fem.post.ressim.ResSim.filename">
<span class="sig-name descname"><span class="pre">filename</span></span><a class="headerlink" href="#fem.post.ressim.ResSim.filename" title="Permalink to this definition">¶</a></dt>
<dd><p>name of file to load in (MATv5 or HDF5)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fem.post.ressim.ResSim.arfidata">
<span class="sig-name descname"><span class="pre">arfidata</span></span><a class="headerlink" href="#fem.post.ressim.ResSim.arfidata" title="Permalink to this definition">¶</a></dt>
<dd><p>arfidata</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fem.post.ressim.ResSim.axial">
<span class="sig-name descname"><span class="pre">axial</span></span><a class="headerlink" href="#fem.post.ressim.ResSim.axial" title="Permalink to this definition">¶</a></dt>
<dd><p>depth</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fem.post.ressim.ResSim.lat">
<span class="sig-name descname"><span class="pre">lat</span></span><a class="headerlink" href="#fem.post.ressim.ResSim.lat" title="Permalink to this definition">¶</a></dt>
<dd><p>lateral</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fem.post.ressim.ResSim.t">
<span class="sig-name descname"><span class="pre">t</span></span><a class="headerlink" href="#fem.post.ressim.ResSim.t" title="Permalink to this definition">¶</a></dt>
<dd><p>time</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fem.post.ressim.ResSim.time_scale_factor">
<span class="sig-name descname"><span class="pre">time_scale_factor</span></span><a class="headerlink" href="#fem.post.ressim.ResSim.time_scale_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>time scale factor (e.g., s -&gt; ms)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fem.post.ressim.ResSim.disp_scale_factor">
<span class="sig-name descname"><span class="pre">disp_scale_factor</span></span><a class="headerlink" href="#fem.post.ressim.ResSim.disp_scale_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>displacement scale factor</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fem.post.ressim.ResSim.animate">
<span class="sig-name descname"><span class="pre">animate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.ressim.ResSim.animate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fem.post.ressim.ResSim.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.ressim.ResSim.load" title="Permalink to this definition">¶</a></dt>
<dd><p>load MATv5 or HDF5 data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – input filename</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – MATv5 or HDF5 load exceptions</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fem.post.ressim.ResSim.play">
<span class="sig-name descname"><span class="pre">play</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timerange</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Lateral</span> <span class="pre">(mm)'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Axial</span> <span class="pre">(mm)'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.ressim.ResSim.play" title="Permalink to this definition">¶</a></dt>
<dd><p>play an animation</p>
<p>Strongly recommend not stepping though each timesteps; use some skips!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timerange</strong> (<em>range</em>) – range generator of time steps to animate</p></li>
<li><p><strong>xlabel</strong> (<em>str</em>) – </p></li>
<li><p><strong>ylabel</strong> (<em>str</em>) – </p></li>
<li><p><strong>show</strong> (<em>Boolean</em>) – show animation</p></li>
</ul>
</dd>
</dl>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>Add save option</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fem.post.ressim.ResSim.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'file'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Lateral</span> <span class="pre">(mm)'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Axial</span> <span class="pre">(mm)'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.ressim.ResSim.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot arfidata at specified timestep.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timestep</strong> (<em>int</em>) – </p></li>
<li><p><strong>show</strong> (<em>Boolean</em>) – show plot</p></li>
<li><p><strong>save</strong> (<em>Boolean</em>) – save PNG (objectname_timestep.png)</p></li>
<li><p><strong>savename</strong> (<em>str</em>) – saved PNG filename prefix</p></li>
<li><p><strong>xlabel</strong> (<em>str</em>) – </p></li>
<li><p><strong>ylabel</strong> (<em>str</em>) – </p></li>
<li><p><strong>title</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fem.post.ressim.ResSim.timeplot">
<span class="sig-name descname"><span class="pre">timeplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axial</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Time</span> <span class="pre">(ms)'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Displacement</span> <span class="pre">(\\mum)'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.ressim.ResSim.timeplot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot arfidata through time at specified ax and lat position (mm)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axial</strong> (<em>ndarray</em>) – axial depth (mm)</p></li>
<li><p><strong>lat</strong> (<em>ndarray</em>) – lateral position (mm)</p></li>
<li><p><strong>xlabel</strong> (<em>str</em>) – </p></li>
<li><p><strong>ylabel</strong> (<em>str</em>) – </p></li>
<li><p><strong>title</strong> (<em>str</em>) – </p></li>
<li><p><strong>show</strong> (<em>Boolean</em>) – show the plot</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-fem.post.savevtk">
<span id="fem-post-savevtk-module"></span><h2>fem.post.savevtk module<a class="headerlink" href="#module-fem.post.savevtk" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="fem.post.savevtk.SaveVTK">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fem.post.savevtk.</span></span><span class="sig-name descname"><span class="pre">SaveVTK</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.savevtk.SaveVTK" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Save <em>structured</em> 3D scalar and vector data in legacy ASCII VTK format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>ndarray</em>) – [scalar] 3D numpy array
[vector] tuple of 3D numpy arrays (X, Y, Z)</p></li>
<li><p><strong>origin</strong> (<em>float</em>) – mesh origin tuple (x, y, z)</p></li>
<li><p><strong>spacing</strong> (<em>float</em>) – node spacing tuple (x, y, z)</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>IndexError</strong> – The shape of the data tuple ndarrays are not equal.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="fem.post.savevtk.SaveVTK.data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="#fem.post.savevtk.SaveVTK.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fem.post.savevtk.SaveVTK.save_scalar">
<span class="sig-name descname"><span class="pre">save_scalar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'scalars'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.savevtk.SaveVTK.save_scalar" title="Permalink to this definition">¶</a></dt>
<dd><p>save 3D scalar data in VTK structure points format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – output filename</p></li>
<li><p><strong>dataname</strong> (<em>str</em>) – data name</p></li>
<li><p><strong>header_comment</strong> (<em>str</em>) – optional header comment in output file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fem.post.savevtk.SaveVTK.save_vector">
<span class="sig-name descname"><span class="pre">save_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vectors'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fem.post.savevtk.SaveVTK.save_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>save 3D vector array in VTK structure points format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – output filename</p></li>
<li><p><strong>dataname</strong> (<em>str</em>) – data name</p></li>
<li><p><strong>header_comment</strong> (<em>str</em>) – optional header comment in output file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-fem.post">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-fem.post" title="Permalink to this heading">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">FEM</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_layout.html">Code Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="coordinates_units.html">Coordinate &amp; Unit Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="create_dyna_mesh.html">Creating Rectilinear Meshes for LS-DYNA</a></li>
<li class="toctree-l1"><a class="reference internal" href="fem.mesh.html">fem.mesh package</a></li>
<li class="toctree-l1"><a class="reference internal" href="optistruct.html">OptiStruct Mesh Conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulate_ARFI.html">Simulating Acoustic Radiation Force Excitation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">fem.post package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fem.post.colormaps">fem.post.colormaps module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fem.post.create_disp_dat">fem.post.create_disp_dat module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fem.post.create_res_sim">fem.post.create_res_sim module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fem.post.h52vtr">fem.post.h52vtr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fem.post.listedcmap2xml">fem.post.listedcmap2xml module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fem.post.ressim">fem.post.ressim module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fem.post.savevtk">fem.post.savevtk module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fem.post">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hypermesh.html">Hypermesh Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="hypermesh.html#hypermesh-alternatives">HyperMesh Alternatives</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="thermal.html">Thermal Modeling (June 2004)</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="simulate_ARFI.html" title="previous chapter">Simulating Acoustic Radiation Force Excitation</a></li>
      <li>Next: <a href="hypermesh.html" title="next chapter">Hypermesh Tutorial</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Mark Palmeri.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/fem.post.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>